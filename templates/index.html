
    <!DOCTYPE html>
    <html>
    <head>
        <title>IDLE-Ai-agent</title>
        <meta charset="utf-8">
        <style>
            body { font-family: Arial, sans-serif; margin: 20px; }
            .container { max-width: 1200px; margin: 0 auto; }
            .status-box { background: #f5f5f5; padding: 20px; border-radius: 5px; margin-bottom: 20px; }
            .progress-bar { height: 20px; background: #ddd; border-radius: 10px; overflow: hidden; }
            .progress-fill { height: 100%; background: #4CAF50; transition: width 0.3s; }
            .log-box { background: #000; color: #0f0; padding: 10px; font-family: monospace; height: 300px; overflow-y: scroll; }
            .btn { background: #4CAF50; color: white; border: none; padding: 10px 20px; cursor: pointer; border-radius: 5px; }
            .btn:hover { background: #45a049; }
        </style>
    </head>
    <body>
        <div class="container">
            <h1>üéÆ IDLE-Ai-agent –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∏–≥—Ä</h1>
            
            <div class="status-box">
                <h2>ü§ñ –°—Ç–∞—Ç—É—Å –∞–≥–µ–Ω—Ç–∞</h2>
                <div id="status">–ó–∞–≥—Ä—É–∑–∫–∞...</div>
                <div class="progress-bar">
                    <div id="progress-fill" class="progress-fill" style="width: 0%"></div>
                </div>
            </div>
            
            <div>
                <h2>üöÄ –°–æ–∑–¥–∞—Ç—å –∏–≥—Ä—É</h2>
                <input type="text" id="task-input" placeholder="–û–ø–∏—à–∏—Ç–µ –∏–≥—Ä—É..." style="width: 300px; padding: 10px;">
                <button class="btn" onclick="startTask()">–ù–∞—á–∞—Ç—å —Ä–∞–∑—Ä–∞–±–æ—Ç–∫—É</button>
                
                <h3>–ü—Ä–∏–º–µ—Ä—ã:</h3>
                <button class="btn" onclick="useExample('–°–æ–∑–¥–∞–π –æ–∫–Ω–æ 800x600 —Å —Å–∏–Ω–∏–º —Ñ–æ–Ω–æ–º')">–û–∫–Ω–æ —Å —Å–∏–Ω–∏–º —Ñ–æ–Ω–æ–º</button>
                <button class="btn" onclick="useExample('–°–æ–∑–¥–∞–π –∫—Ä–∞—Å–Ω—ã–π –∫–≤–∞–¥—Ä–∞—Ç, —É–ø—Ä–∞–≤–ª—è–µ–º—ã–π —Å—Ç—Ä–µ–ª–∫–∞–º–∏')">–ö—Ä–∞—Å–Ω—ã–π –∫–≤–∞–¥—Ä–∞—Ç</button>
                <button class="btn" onclick="useExample('–°–æ–∑–¥–∞–π —É–ø—Ä–æ—â–µ–Ω–Ω—É—é –∑–º–µ–π–∫—É')">–ó–º–µ–π–∫–∞</button>
            </div>
            
            <div style="margin-top: 30px;">
                <h2>üìù –õ–æ–≥–∏</h2>
                <div id="log-box" class="log-box"></div>
            </div>
        </div>
        
        <script>
            let logBox = document.getElementById('log-box');
            
            // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞
            function updateStatus() {
                fetch('/api/status')
                    .then(r => r.json())
                    .then(data => {
                        let statusDiv = document.getElementById('status');
                        let progressFill = document.getElementById('progress-fill');
                        
                        if (data.agent === 'active') {
                            statusDiv.innerHTML = `
                                <strong>–ó–∞–¥–∞—á–∞:</strong> ${data.original_task}<br>
                                <strong>–°—Ç–∞—Ç—É—Å:</strong> ${data.status}<br>
                                <strong>–ü–æ–¥–∑–∞–¥–∞—á–∞:</strong> ${data.current_subtask || 'N/A'}<br>
                                <strong>–û—à–∏–±–æ–∫:</strong> ${data.errors_count}
                            `;
                            progressFill.style.width = data.progress + '%';
                        } else {
                            statusDiv.innerHTML = '–ê–≥–µ–Ω—Ç –æ–∂–∏–¥–∞–µ—Ç –∑–∞–¥–∞—á–∏';
                            progressFill.style.width = '0%';
                        }
                    });
                
                setTimeout(updateStatus, 2000);
            }
            
            // –ó–∞–ø—É—Å–∫ –∑–∞–¥–∞—á–∏
            function startTask() {
                let task = document.getElementById('task-input').value;
                if (!task) {
                    alert('–í–≤–µ–¥–∏—Ç–µ –æ–ø–∏—Å–∞–Ω–∏–µ –∏–≥—Ä—ã');
                    return;
                }
                
                fetch('/api/start_task', {
                    method: 'POST',
                    headers: {'Content-Type': 'application/json'},
                    body: JSON.stringify({task: task})
                }).then(r => r.json())
                  .then(data => {
                      if (data.success) {
                          addLog('üöÄ –ó–∞–¥–∞—á–∞ –∑–∞–ø—É—â–µ–Ω–∞: ' + task);
                      } else {
                          addLog('‚ùå –û—à–∏–±–∫–∞: ' + data.error);
                      }
                  });
            }
            
            // –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø—Ä–∏–º–µ—Ä–∞
            function useExample(example) {
                document.getElementById('task-input').value = example;
            }
            
            // –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ª–æ–≥–∞
            function addLog(message) {
                let timestamp = new Date().toLocaleTimeString();
                logBox.innerHTML += `[${timestamp}] ${message}<br>`;
                logBox.scrollTop = logBox.scrollHeight;
            }
            
            // –ó–∞–ø—É—Å–∫
            updateStatus();
            addLog('üåê –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∑–∞–ø—É—â–µ–Ω');
        </script>
    </body>
    </html>
    